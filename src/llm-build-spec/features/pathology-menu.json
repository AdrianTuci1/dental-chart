{
  "feature": "Pathology Menu",
  "description": "Comprehensive pathology tracking interface for dental conditions and abnormalities",
  "routes": [
    "/patients/:patientId/chart/pathology",
    "/patients/:patientId/tooth/:toothNumber/pathology"
  ],
  "layout": {
    "type": "drawer-or-modal",
    "width": "800px",
    "position": "right",
    "overlay": true
  },
  "header": {
    "title": "Pathology",
    "actions": [
      {
        "icon": "close",
        "label": "Close",
        "action": "closePathologyPanel"
      }
    ]
  },
  "mainLayout": {
    "type": "two-column",
    "leftColumn": {
      "name": "SurfaceSelector",
      "width": "35%",
      "description": "Interactive tooth diagram for selecting affected surfaces"
    },
    "rightColumn": {
      "name": "PathologyCategories",
      "width": "65%",
      "description": "Category selection and specific pathology types"
    }
  },
  "surfaceSelector": {
    "description": "Visual tooth diagram showing all surfaces that can be selected",
    "layout": {
      "type": "anatomical-diagram",
      "views": ["cervical-buccal", "buccal", "incisal", "distal", "mesial", "palatal", "cervical-palatal"]
    },
    "surfaces": [
      {
        "id": "cervical-buccal",
        "label": "Cervical Buccal",
        "clickable": true,
        "position": "top"
      },
      {
        "id": "buccal",
        "label": "Buccal",
        "clickable": true,
        "position": "center-left"
      },
      {
        "id": "incisal",
        "label": "Incisal",
        "clickable": true,
        "position": "center",
        "note": "Or 'Occlusal' for molars/premolars"
      },
      {
        "id": "distal",
        "label": "Distal",
        "clickable": true,
        "position": "right"
      },
      {
        "id": "mesial",
        "label": "Mesial",
        "clickable": true,
        "position": "left"
      },
      {
        "id": "palatal",
        "label": "Palatal",
        "clickable": true,
        "position": "center-right",
        "note": "Or 'Lingual' for lower teeth"
      },
      {
        "id": "cervical-palatal",
        "label": "Cervical Palatal",
        "clickable": true,
        "position": "bottom"
      }
    ],
    "multiSelect": true,
    "styling": {
      "default": {
        "fill": "#F5F5F5",
        "stroke": "#BDBDBD",
        "strokeWidth": "2px"
      },
      "selected": {
        "fill": "#00A3E0",
        "stroke": "#0083B8"
      },
      "hover": {
        "fill": "#E0E0E0"
      }
    },
    "classicClass4": {
      "description": "Special layout for Class 4 cavities",
      "surfaces": ["mesial", "distal"],
      "display": "side-by-side",
      "labels": ["Class 4 Mesial", "Class 4 Distal"]
    }
  },
  "pathologyCategories": {
    "description": "Main pathology type selection",
    "layout": {
      "type": "tab-style-buttons",
      "orientation": "horizontal",
      "spacing": "8px"
    },
    "categories": [
      {
        "id": "decay",
        "label": "Decay",
        "color": "#5F7C8A",
        "icon": "tooth-decay",
        "default": true
      },
      {
        "id": "fracture",
        "label": "Fracture",
        "color": "#00A3E0",
        "icon": "crack"
      },
      {
        "id": "tooth-wear",
        "label": "Tooth Wear",
        "color": "#64B5F6",
        "icon": "wear"
      },
      {
        "id": "discoloration",
        "label": "Discoloration",
        "color": "#9575CD",
        "icon": "palette"
      },
      {
        "id": "apical",
        "label": "Apical",
        "color": "#FF9800",
        "icon": "alert-circle"
      },
      {
        "id": "development-disorder",
        "label": "Development Disorder",
        "color": "#FFD700",
        "icon": "dna"
      }
    ],
    "categoryStyling": {
      "button": {
        "padding": "12px 24px",
        "border": "none",
        "borderRadius": "8px 8px 0 0",
        "backgroundColor": "#F5F5F5",
        "color": "#757575",
        "cursor": "pointer",
        "fontSize": "14px",
        "fontWeight": "500"
      },
      "active": {
        "backgroundColor": "category.color",
        "color": "#FFFFFF"
      }
    }
  },
  "pathologySubtypes": {
    "decay": {
      "subtypes": [
        {
          "id": "discoloration",
          "label": "Discoloration",
          "description": "Early enamel demineralization"
        },
        {
          "id": "apical",
          "label": "Apical",
          "description": "Root-level decay"
        },
        {
          "id": "dentin",
          "label": "Dentin",
          "description": "Decay extending to dentin"
        },
        {
          "id": "enamel",
          "label": "Enamel",
          "description": "Enamel-level decay"
        }
      ]
    },
    "fracture": {
      "subtypes": [
        {
          "id": "enamel-fracture",
          "label": "Enamel Fracture",
          "description": "Minor chip or crack in enamel"
        },
        {
          "id": "crown-fracture",
          "label": "Crown Fracture",
          "description": "Fracture affecting the crown"
        },
        {
          "id": "root-fracture",
          "label": "Root Fracture",
          "description": "Fracture in the root"
        },
        {
          "id": "complete-fracture",
          "label": "Complete Fracture",
          "description": "Full tooth fracture"
        }
      ]
    },
    "tooth-wear": {
      "subtypes": [
        {
          "id": "attrition",
          "label": "Attrition",
          "description": "Wear from tooth-to-tooth contact"
        },
        {
          "id": "abrasion",
          "label": "Abrasion",
          "description": "Wear from external friction"
        },
        {
          "id": "erosion",
          "label": "Erosion",
          "description": "Chemical wear from acids"
        },
        {
          "id": "abfraction",
          "label": "Abfraction",
          "description": "Cervical lesion from occlusal forces"
        }
      ]
    },
    "discoloration": {
      "subtypes": [
        {
          "id": "extrinsic",
          "label": "Extrinsic",
          "description": "External surface staining"
        },
        {
          "id": "intrinsic",
          "label": "Intrinsic",
          "description": "Internal tooth discoloration"
        },
        {
          "id": "fluorosis",
          "label": "Fluorosis",
          "description": "Fluoride-related discoloration"
        },
        {
          "id": "tetracycline",
          "label": "Tetracycline",
          "description": "Antibiotic staining"
        }
      ]
    },
    "apical": {
      "subtypes": [
        {
          "id": "abscess",
          "label": "Abscess",
          "description": "Bacterial infection at root tip"
        },
        {
          "id": "granuloma",
          "label": "Granuloma",
          "description": "Inflammatory tissue mass"
        },
        {
          "id": "cyst",
          "label": "Cyst",
          "description": "Fluid-filled sac"
        }
      ]
    },
    "development-disorder": {
      "subtypes": [
        {
          "id": "hypoplasia",
          "label": "Hypoplasia",
          "description": "Incomplete enamel formation"
        },
        {
          "id": "hypocalcification",
          "label": "Hypocalcification",
          "description": "Insufficient mineralization"
        },
        {
          "id": "dens-invaginatus",
          "label": "Dens Invaginatus",
          "description": "Tooth within a tooth"
        },
        {
          "id": "dilaceration",
          "label": "Dilaceration",
          "description": "Abnormal tooth angulation"
        }
      ]
    }
  },
  "subtypeDisplay": {
    "layout": "grid",
    "gridTemplateColumns": "repeat(3, 1fr)",
    "gap": "16px",
    "marginTop": "24px",
    "buttonStyling": {
      "padding": "16px",
      "border": "1px solid #E0E0E0",
      "borderRadius": "8px",
      "backgroundColor": "#FFFFFF",
      "cursor": "pointer",
      "textAlign": "left",
      "transition": "all 0.2s"
    },
    "buttonHover": {
      "borderColor": "#00A3E0",
      "backgroundColor": "#F5F5F5"
    },
    "buttonSelected": {
      "borderColor": "#00A3E0",
      "backgroundColor": "#E3F2FD"
    },
    "labelStyling": {
      "fontSize": "14px",
      "fontWeight": "600",
      "color": "#424242",
      "marginBottom": "4px"
    },
    "descriptionStyling": {
      "fontSize": "12px",
      "color": "#757575"
    }
  },
  "additionalFields": {
    "severity": {
      "label": "Severity",
      "type": "select",
      "options": [
        { "value": "mild", "label": "Mild" },
        { "value": "moderate", "label": "Moderate" },
        { "value": "severe", "label": "Severe" }
      ],
      "required": true
    },
    "date": {
      "label": "Date Diagnosed",
      "type": "date",
      "default": "today"
    },
    "notes": {
      "label": "Notes",
      "type": "textarea",
      "rows": 3,
      "placeholder": "Additional notes about this pathology..."
    }
  },
  "actions": {
    "primary": [
      {
        "label": "MONITOR",
        "action": "saveAndMonitor",
        "color": "#FFD700",
        "description": "Save pathology for monitoring"
      },
      {
        "label": "TREAT",
        "action": "saveAndAddToTreatmentPlan",
        "color": "#FF4444",
        "description": "Save and add to treatment plan"
      },
      {
        "label": "SAVE",
        "action": "savePathology",
        "color": "#00A3E0",
        "description": "Save pathology data"
      }
    ],
    "secondary": [
      {
        "label": "Cancel",
        "action": "cancelAndClose",
        "styling": "text-button"
      }
    ]
  },
  "actionButtonLayout": {
    "position": "bottom",
    "layout": "horizontal",
    "alignment": "right",
    "spacing": "12px",
    "styling": {
      "padding": "16px 32px",
      "borderRadius": "8px",
      "fontSize": "16px",
      "fontWeight": "600",
      "border": "none",
      "cursor": "pointer",
      "minWidth": "120px"
    }
  },
  "pathologyList": {
    "description": "List of existing pathologies for the selected tooth",
    "position": "below form or in separate section",
    "itemTemplate": {
      "type": "card",
      "fields": [
        "pathology type",
        "subtype",
        "affected surfaces",
        "severity",
        "date",
        "status (monitoring/treating)"
      ],
      "actions": [
        {
          "icon": "edit",
          "action": "editPathology"
        },
        {
          "icon": "delete",
          "action": "deletePathology",
          "confirmation": true
        }
      ]
    }
  },
  "visualRepresentation": {
    "onChart": {
      "decay": {
        "color": "#8B4513",
        "display": "filled area on affected surfaces"
      },
      "fracture": {
        "color": "#FF4444",
        "display": "crack line or break indication"
      },
      "apical": {
        "color": "#FF6B6B",
        "display": "dot or icon at root tip"
      },
      "discoloration": {
        "color": "#9575CD",
        "display": "translucent overlay"
      },
      "wear": {
        "color": "#64B5F6",
        "display": "worn surface indication"
      },
      "developmentDisorder": {
        "color": "#FFD700",
        "display": "outlined area with pattern"
      }
    },
    "visibility": "Controlled by view toggles and pathology filters"
  },
  "dataModel": {
    "pathologyEntry": {
      "id": "uuid",
      "toothNumber": "number",
      "category": "enum: decay | fracture | tooth-wear | discoloration | apical | development-disorder",
      "subtype": "string",
      "surfaces": "string[] (e.g., ['O', 'M', 'D'])",
      "severity": "enum: mild | moderate | severe",
      "status": "enum: monitoring | treating | treated",
      "date": "ISO date",
      "notes": "string",
      "addedToTreatmentPlan": "boolean",
      "createdAt": "ISO timestamp",
      "updatedAt": "ISO timestamp"
    }
  }
}

