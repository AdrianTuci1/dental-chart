{
  "route": "/patients/:patientId/dashboard",
  "component": "PatientDashboardPage",
  "description": "Patient overview with treatment plan, history, soft tissue examination, and oral health metrics",
  "layout": {
    "type": "patient-layout-with-sidebar",
    "showGlobalSidebar": true,
    "showPatientHeader": true
  },
  "components": [
    {
      "name": "DashboardLayout",
      "type": "two-column-layout",
      "columns": {
        "main": {
          "width": "70%",
          "components": ["TreatmentPlan", "TreatmentHistory", "SoftTissueExam"]
        },
        "sidebar": {
          "width": "30%",
          "components": ["OralHealthMetrics", "BasicPeriodontalExamination", "MedicalIssues"]
        }
      }
    }
  ],
  "mainComponents": [
    {
      "name": "TreatmentPlan",
      "type": "card",
      "title": "Treatment Plan",
      "collapsible": false,
      "styling": {
        "backgroundColor": "#FFFFFF",
        "borderRadius": "8px",
        "padding": "24px",
        "marginBottom": "24px",
        "boxShadow": "0 1px 3px rgba(0,0,0,0.12)"
      },
      "content": {
        "type": "treatment-plan-table",
        "columns": [
          {
            "field": "priority",
            "header": "Priority",
            "width": "100px",
            "render": "PriorityBadge"
          },
          {
            "field": "toothNumber",
            "header": "Tooth",
            "width": "80px",
            "render": "ToothNumberDisplay"
          },
          {
            "field": "procedure",
            "header": "Procedure",
            "width": "auto"
          },
          {
            "field": "description",
            "header": "Description",
            "width": "auto"
          },
          {
            "field": "estimatedCost",
            "header": "Cost",
            "width": "120px",
            "format": "currency"
          },
          {
            "field": "status",
            "header": "Status",
            "width": "120px",
            "render": "StatusBadge"
          },
          {
            "field": "scheduledDate",
            "header": "Scheduled",
            "width": "120px",
            "format": "date"
          }
        ],
        "emptyState": {
          "message": "No treatment plan items",
          "action": {
            "label": "Add Treatment",
            "onClick": "openAddTreatmentModal"
          }
        },
        "actions": {
          "add": true,
          "edit": true,
          "delete": true,
          "reorder": true
        }
      },
      "footer": {
        "showTotal": true,
        "totalLabel": "Total Estimated Cost",
        "styling": {
          "fontSize": "18px",
          "fontWeight": "600",
          "color": "#424242"
        }
      }
    },
    {
      "name": "TreatmentHistory",
      "type": "card",
      "title": "Treatment History",
      "collapsible": true,
      "defaultCollapsed": false,
      "styling": {
        "backgroundColor": "#FFFFFF",
        "borderRadius": "8px",
        "padding": "24px",
        "marginBottom": "24px",
        "boxShadow": "0 1px 3px rgba(0,0,0,0.12)"
      },
      "content": {
        "type": "timeline",
        "maxItems": 10,
        "showMoreAction": true,
        "itemTemplate": {
          "date": "ISO date",
          "procedure": "string",
          "toothNumber": "number | null",
          "notes": "string",
          "cost": "number",
          "provider": "string"
        },
        "emptyState": {
          "message": "No treatment history recorded"
        }
      }
    },
    {
      "name": "SoftTissueExam",
      "type": "card",
      "title": "Soft Tissue Examination",
      "collapsible": true,
      "defaultCollapsed": false,
      "actions": [
        {
          "icon": "edit",
          "label": "Edit Examination",
          "action": "openSoftTissueModal"
        }
      ],
      "styling": {
        "backgroundColor": "#FFFFFF",
        "borderRadius": "8px",
        "padding": "24px",
        "marginBottom": "24px",
        "boxShadow": "0 1px 3px rgba(0,0,0,0.12)"
      },
      "content": {
        "type": "two-column-form",
        "readOnly": true,
        "sections": [
          {
            "title": "Extraoral Examination",
            "fields": [
              {
                "label": "Lips",
                "value": "softTissue.extraoralExam.lips",
                "multiline": true
              },
              {
                "label": "Lymph Nodes",
                "value": "softTissue.extraoralExam.lymphNodes",
                "multiline": true
              },
              {
                "label": "TMJ",
                "value": "softTissue.extraoralExam.tmj",
                "multiline": true
              },
              {
                "label": "Facial Symmetry",
                "value": "softTissue.extraoralExam.facialSymmetry",
                "multiline": true
              }
            ]
          },
          {
            "title": "Intraoral Examination",
            "fields": [
              {
                "label": "Tongue",
                "value": "softTissue.intraoralExam.tongue",
                "multiline": true
              },
              {
                "label": "Palate",
                "value": "softTissue.intraoralExam.palate",
                "multiline": true
              },
              {
                "label": "Gingiva",
                "value": "softTissue.intraoralExam.gingiva",
                "multiline": true
              },
              {
                "label": "Buccal Mucosa",
                "value": "softTissue.intraoralExam.buccalMucosa",
                "multiline": true
              },
              {
                "label": "Floor of Mouth",
                "value": "softTissue.intraoralExam.floor",
                "multiline": true
              },
              {
                "label": "Oropharynx",
                "value": "softTissue.intraoralExam.oropharynx",
                "multiline": true
              }
            ]
          }
        ],
        "abnormalFindings": {
          "title": "Abnormal Findings",
          "type": "alert-list",
          "severityColors": {
            "minor": "#64B5F6",
            "moderate": "#FFD700",
            "concerning": "#FF9800",
            "urgent": "#FF4444"
          }
        }
      }
    }
  ],
  "sidebarComponents": [
    {
      "name": "OralHealthMetrics",
      "type": "card",
      "title": "Oral Health",
      "styling": {
        "backgroundColor": "#FFFFFF",
        "borderRadius": "8px",
        "padding": "20px",
        "marginBottom": "16px",
        "boxShadow": "0 1px 3px rgba(0,0,0,0.12)"
      },
      "content": {
        "type": "metrics-list",
        "metrics": [
          {
            "name": "Plaque Index",
            "value": "oralHealthMetrics.plaqueIndex.value",
            "unit": "%",
            "format": "percentage",
            "color": "#FFD700",
            "icon": "plaque",
            "range": {
              "good": [0, 20],
              "fair": [21, 40],
              "poor": [41, 100]
            }
          },
          {
            "name": "Bleeding Index",
            "value": "oralHealthMetrics.bleedingIndex.value",
            "unit": "%",
            "format": "percentage",
            "color": "#FF4444",
            "icon": "bleeding",
            "range": {
              "good": [0, 10],
              "fair": [11, 30],
              "poor": [31, 100]
            }
          },
          {
            "name": "Halitosis",
            "value": "oralHealthMetrics.halitosis.severity",
            "format": "severity-badge",
            "color": "#9575CD",
            "icon": "breath"
          }
        ],
        "lastUpdated": "oralHealthMetrics.date"
      }
    },
    {
      "name": "BasicPeriodontalExamination",
      "type": "card",
      "title": "Basic Periodontal Examination",
      "abbreviation": "BPE",
      "styling": {
        "backgroundColor": "#FFFFFF",
        "borderRadius": "8px",
        "padding": "20px",
        "marginBottom": "16px",
        "boxShadow": "0 1px 3px rgba(0,0,0,0.12)"
      },
      "content": {
        "type": "bpe-grid",
        "layout": "3x2-grid",
        "sextants": [
          {
            "position": "upper-right",
            "label": "UR",
            "code": "oralHealthMetrics.basicPeriodontalExamination.sextants[0].code"
          },
          {
            "position": "upper-anterior",
            "label": "UA",
            "code": "oralHealthMetrics.basicPeriodontalExamination.sextants[1].code"
          },
          {
            "position": "upper-left",
            "label": "UL",
            "code": "oralHealthMetrics.basicPeriodontalExamination.sextants[2].code"
          },
          {
            "position": "lower-left",
            "label": "LL",
            "code": "oralHealthMetrics.basicPeriodontalExamination.sextants[3].code"
          },
          {
            "position": "lower-anterior",
            "label": "LA",
            "code": "oralHealthMetrics.basicPeriodontalExamination.sextants[4].code"
          },
          {
            "position": "lower-right",
            "label": "LR",
            "code": "oralHealthMetrics.basicPeriodontalExamination.sextants[5].code"
          }
        ],
        "codeColors": {
          "0": "#00C851",
          "1": "#64B5F6",
          "2": "#FFD700",
          "3": "#FF9800",
          "4": "#FF4444",
          "*": "#9575CD"
        },
        "legend": {
          "0": "Healthy",
          "1": "Bleeding on probing",
          "2": "Calculus/defective margins",
          "3": "4-5mm pocket",
          "4": "6mm+ pocket",
          "*": "Furcation involvement"
        }
      }
    },
    {
      "name": "MedicalIssues",
      "type": "card",
      "title": "Medical Issues",
      "collapsible": true,
      "defaultCollapsed": false,
      "styling": {
        "backgroundColor": "#FFFFFF",
        "borderRadius": "8px",
        "padding": "20px",
        "marginBottom": "16px",
        "boxShadow": "0 1px 3px rgba(0,0,0,0.12)"
      },
      "content": {
        "type": "medical-summary",
        "sections": [
          {
            "title": "Allergies",
            "data": "medicalIssues.allergies",
            "icon": "warning",
            "emptyText": "No known allergies",
            "severityIndicator": true
          },
          {
            "title": "Medications",
            "data": "medicalIssues.medications",
            "icon": "pill",
            "emptyText": "No medications",
            "showCount": true
          },
          {
            "title": "Conditions",
            "data": "medicalIssues.conditions",
            "icon": "medical",
            "emptyText": "No medical conditions",
            "statusIndicator": true
          }
        ],
        "expandable": true,
        "actions": [
          {
            "label": "Update Medical History",
            "action": "openMedicalHistoryModal"
          }
        ]
      }
    }
  ],
  "modals": {
    "addTreatment": {
      "title": "Add Treatment Plan Item",
      "width": "600px",
      "form": {
        "fields": [
          {
            "name": "toothNumber",
            "label": "Tooth Number",
            "type": "tooth-selector",
            "required": false
          },
          {
            "name": "procedure",
            "label": "Procedure",
            "type": "autocomplete",
            "options": "proceduresList",
            "required": true
          },
          {
            "name": "description",
            "label": "Description",
            "type": "textarea",
            "rows": 3
          },
          {
            "name": "estimatedCost",
            "label": "Estimated Cost",
            "type": "currency",
            "required": true
          },
          {
            "name": "priority",
            "label": "Priority",
            "type": "select",
            "options": ["Urgent", "High", "Medium", "Low"],
            "required": true
          },
          {
            "name": "scheduledDate",
            "label": "Scheduled Date",
            "type": "date"
          }
        ]
      }
    },
    "softTissue": {
      "title": "Soft Tissue Examination",
      "width": "800px",
      "note": "Full form for editing soft tissue examination data"
    },
    "medicalHistory": {
      "title": "Update Medical History",
      "width": "700px",
      "note": "Full form for editing medical issues, allergies, medications, conditions"
    }
  },
  "stateManagement": {
    "stores": ["dashboardStore", "patientStore"],
    "actions": [
      "fetchTreatmentPlan",
      "fetchTreatmentHistory",
      "fetchSoftTissue",
      "fetchOralHealthMetrics",
      "fetchMedicalIssues",
      "addTreatmentPlanItem",
      "updateTreatmentPlanItem",
      "deleteTreatmentPlanItem"
    ]
  }
}

