{
  "implementationGuide": {
    "title": "Dental Charting Application - Implementation Guide",
    "version": "1.0.0",
    "lastUpdated": "2025-11-20",
    "overview": "This guide provides step-by-step instructions for implementing the dental charting application from the provided specifications.",
    "prerequisites": {
      "knowledge": [
        "React 18+ fundamentals",
        "React Router v6",
        "State management (Zustand recommended)",
        "CSS or CSS-in-JS",
        "Dental terminology (basic understanding)"
      ],
      "tools": [
        "Node.js 18+",
        "npm or yarn",
        "Code editor (VS Code recommended)",
        "Git for version control"
      ],
      "assets": [
        "Tooth images (330 PNG files following naming convention)",
        "Overlay images (optional, can use CSS overlays)",
        "Logo and branding assets"
      ]
    },
    "implementationPhases": [
      {
        "phase": 1,
        "name": "Project Setup",
        "duration": "1-2 hours",
        "tasks": [
          {
            "task": "Initialize Vite + React project",
            "command": "npm create vite@latest dental-chart -- --template react",
            "verify": "npm run dev should start development server"
          },
          {
            "task": "Install dependencies",
            "packages": [
              "react-router-dom@6",
              "zustand",
              "date-fns",
              "lucide-react (for icons)"
            ],
            "command": "npm install react-router-dom zustand date-fns lucide-react"
          },
          {
            "task": "Setup project structure",
            "directories": [
              "src/pages/",
              "src/components/",
              "src/store/",
              "src/utils/",
              "src/assets/teeth/",
              "src/assets/overlays/",
              "src/styles/"
            ]
          },
          {
            "task": "Configure routing",
            "file": "src/App.jsx",
            "reference": "app-structure.json"
          }
        ]
      },
      {
        "phase": 2,
        "name": "Core Data Models",
        "duration": "2-3 hours",
        "tasks": [
          {
            "task": "Create TypeScript interfaces or JSDoc types",
            "file": "src/types/index.js or types.d.ts",
            "reference": "data-models.json",
            "note": "Define all data structures for teeth, patients, charts"
          },
          {
            "task": "Setup Zustand stores",
            "files": [
              "src/store/authStore.js",
              "src/store/patientStore.js",
              "src/store/chartStore.js",
              "src/store/toothStore.js",
              "src/store/dashboardStore.js"
            ],
            "reference": "app-structure.json > stateManagement"
          },
          {
            "task": "Create utility functions",
            "files": [
              "src/utils/toothUtils.js (tooth numbering, mirroring)",
              "src/utils/imageUtils.js (asset loading)",
              "src/utils/calculations.js (indices, metrics)"
            ]
          },
          {
            "task": "Setup mock data",
            "file": "src/utils/mockData.js",
            "note": "Create sample patients and charts for demo mode"
          }
        ]
      },
      {
        "phase": 3,
        "name": "Authentication & Patient List",
        "duration": "3-4 hours",
        "tasks": [
          {
            "task": "Build HomePage with demo login",
            "file": "src/pages/HomePage.jsx",
            "reference": "routes/home.json",
            "components": ["LoginCard"]
          },
          {
            "task": "Build PatientsListPage",
            "file": "src/pages/PatientsListPage.jsx",
            "reference": "routes/patients-list.json",
            "components": ["SearchBar", "PatientTable", "AddPatientModal"]
          },
          {
            "task": "Create global sidebar",
            "file": "src/components/GlobalSidebar.jsx",
            "reference": "app-structure.json > layout > globalSidebar"
          },
          {
            "task": "Setup patient layout wrapper",
            "file": "src/components/PatientLayout.jsx",
            "reference": "app-structure.json > layout > patientLayout"
          }
        ]
      },
      {
        "phase": 4,
        "name": "Dashboard Implementation",
        "duration": "4-6 hours",
        "tasks": [
          {
            "task": "Build PatientDashboardPage",
            "file": "src/pages/PatientDashboardPage.jsx",
            "reference": "routes/patient-dashboard.json"
          },
          {
            "task": "Create TreatmentPlan component",
            "file": "src/components/Dashboard/TreatmentPlan.jsx",
            "features": ["Add/edit treatment items", "Cost calculation", "Status tracking"]
          },
          {
            "task": "Create OralHealthMetrics component",
            "file": "src/components/Dashboard/OralHealthMetrics.jsx",
            "reference": "features/oral-health-metrics.json",
            "features": ["Plaque index", "Bleeding index", "Halitosis", "BPE"]
          },
          {
            "task": "Create SoftTissueExam component",
            "file": "src/components/Dashboard/SoftTissueExam.jsx"
          },
          {
            "task": "Create MedicalIssues component",
            "file": "src/components/Dashboard/MedicalIssues.jsx"
          }
        ]
      },
      {
        "phase": 5,
        "name": "Chart Visualization - Core",
        "duration": "8-12 hours",
        "priority": "HIGH - This is the main feature",
        "tasks": [
          {
            "task": "Create ToothRenderer component",
            "file": "src/components/Chart/ToothRenderer.jsx",
            "features": [
              "Load tooth image based on number, view, state",
              "Handle mirroring for left quadrants",
              "Apply overlays (restorations, pathology)",
              "Click/hover interactions"
            ],
            "reference": "asset-naming-convention.json"
          },
          {
            "task": "Create JawRow component",
            "file": "src/components/Chart/JawRow.jsx",
            "features": [
              "Render multiple teeth in a row",
              "Handle different perspectives (buccal, occlusal)",
              "Show tooth numbers"
            ]
          },
          {
            "task": "Build PatientChartPage",
            "file": "src/pages/PatientChartPage.jsx",
            "reference": "routes/patient-chart.json",
            "features": [
              "4-jaw overview layout",
              "Tab navigation",
              "View toggles integration"
            ]
          },
          {
            "task": "Implement ChartOverview",
            "file": "src/components/Chart/ChartOverview.jsx",
            "features": [
              "Upper buccal row",
              "Upper occlusal row",
              "Lower occlusal row",
              "Lower buccal row",
              "Right sidebar toggles"
            ]
          },
          {
            "task": "Implement layer system",
            "file": "src/components/Chart/LayerManager.jsx",
            "reference": "features/chart-views.json > layerSystem",
            "features": ["Toggle endo/perio/dental layers", "Z-index management"]
          }
        ]
      },
      {
        "phase": 6,
        "name": "Tooth Detail View",
        "duration": "6-8 hours",
        "tasks": [
          {
            "task": "Create ToothDetailPage",
            "file": "src/pages/ToothDetailPage.jsx",
            "reference": "routes/tooth-detail.json",
            "layout": "Two-column: visualization left, tabs right"
          },
          {
            "task": "Create ToothVisualization3Plane",
            "file": "src/components/Tooth/ToothVisualization3Plane.jsx",
            "features": ["Frontal view", "Top view", "Lingual view", "Probing levels display"]
          },
          {
            "task": "Create ToothOverview tab",
            "file": "src/components/Tooth/ToothOverview.jsx",
            "features": ["Basic info", "Conditions checkboxes", "Notes"]
          },
          {
            "task": "Create ToothEndodontic tab",
            "file": "src/components/Tooth/ToothEndodontic.jsx",
            "reference": "features/endodontic-tests.json",
            "features": ["All 5 tests", "Root canal section"]
          },
          {
            "task": "Implement quick actions in header",
            "features": ["Reset", "To be extracted", "Missing"]
          }
        ]
      },
      {
        "phase": 7,
        "name": "Periodontal Probing",
        "duration": "8-10 hours",
        "priority": "HIGH - Complex feature",
        "tasks": [
          {
            "task": "Create PeriodontalProbing page/view",
            "file": "src/pages/PeriodontalProbingPage.jsx or src/components/Chart/PeriodontalProbing.jsx",
            "reference": "features/periodontal-probing.json"
          },
          {
            "task": "Create SixSiteMeasurements component",
            "file": "src/components/Periodontal/SixSiteMeasurements.jsx",
            "features": [
              "6 cards for each site",
              "Value display and sliders",
              "Indicator dots (bleeding, plaque, pus, tartar)"
            ]
          },
          {
            "task": "Create measurement grids",
            "file": "src/components/Periodontal/MeasurementGrid.jsx",
            "features": ["Probing depth grid", "Gingival margin grid", "Selectable values"]
          },
          {
            "task": "Create ToothMobility selector",
            "file": "src/components/Periodontal/ToothMobility.jsx"
          },
          {
            "task": "Integrate with tooth visualization",
            "note": "Show probing data on 3-plane tooth view"
          }
        ]
      },
      {
        "phase": 8,
        "name": "Pathology & Restoration Menus",
        "duration": "6-8 hours",
        "tasks": [
          {
            "task": "Create PathologyMenu component",
            "file": "src/components/Pathology/PathologyMenu.jsx",
            "reference": "features/pathology-menu.json",
            "features": [
              "Surface selector",
              "Category tabs",
              "Subtype grid",
              "Save actions"
            ]
          },
          {
            "task": "Create RestorationMenu component",
            "file": "src/components/Restoration/RestorationMenu.jsx",
            "reference": "features/restoration-menu.json",
            "features": [
              "Type selector",
              "Material dropdown",
              "Surface selector",
              "Bridge/implant configurators"
            ]
          },
          {
            "task": "Create SurfaceSelector reusable component",
            "file": "src/components/Common/SurfaceSelector.jsx",
            "note": "Used by both pathology and restoration"
          },
          {
            "task": "Implement visual overlays on chart",
            "note": "Show restorations and pathologies with proper colors"
          }
        ]
      },
      {
        "phase": 9,
        "name": "Time Travel Feature",
        "duration": "6-8 hours",
        "tasks": [
          {
            "task": "Create TimeTravelControls component",
            "file": "src/components/Chart/TimeTravelControls.jsx",
            "reference": "features/time-travel.json",
            "features": [
              "Date selector dropdown",
              "Timeline slider",
              "Navigation buttons"
            ]
          },
          {
            "task": "Implement snapshot creation",
            "features": ["Auto snapshots on exam", "Manual snapshot with note"]
          },
          {
            "task": "Create historical view mode",
            "features": [
              "Load snapshot data",
              "Show historical banner",
              "Disable editing"
            ]
          },
          {
            "task": "Implement comparison mode",
            "file": "src/components/Chart/ComparisonView.jsx",
            "features": ["Side-by-side layout", "Highlight differences", "Changes summary"]
          }
        ]
      },
      {
        "phase": 10,
        "name": "Reports",
        "duration": "4-6 hours",
        "tasks": [
          {
            "task": "Create PatientReportPage",
            "file": "src/pages/PatientReportPage.jsx",
            "reference": "routes/patient-report.json"
          },
          {
            "task": "Create report templates",
            "files": [
              "src/components/Reports/ComprehensiveExam.jsx",
              "src/components/Reports/TreatmentPlan.jsx",
              "src/components/Reports/PeriodontalChart.jsx"
            ]
          },
          {
            "task": "Implement PDF export",
            "library": "jspdf or react-pdf",
            "features": ["Generate PDF", "Include chart images", "Formatting"]
          },
          {
            "task": "Implement print functionality",
            "features": ["Print-specific CSS", "Page breaks", "Headers/footers"]
          }
        ]
      },
      {
        "phase": 11,
        "name": "Polish & Refinement",
        "duration": "4-6 hours",
        "tasks": [
          {
            "task": "Add loading states",
            "note": "Skeleton loaders, spinners for async operations"
          },
          {
            "task": "Add error handling",
            "note": "Error boundaries, user-friendly error messages"
          },
          {
            "task": "Implement notifications",
            "library": "Custom or react-hot-toast",
            "features": ["Success", "Error", "Warning", "Info"]
          },
          {
            "task": "Add animations and transitions",
            "note": "Smooth transitions between views, hover effects"
          },
          {
            "task": "Optimize performance",
            "features": [
              "Memoize expensive calculations",
              "Lazy load images",
              "Code splitting for routes"
            ]
          },
          {
            "task": "Responsive design",
            "breakpoints": ["Mobile", "Tablet", "Laptop", "Desktop"],
            "reference": "features/chart-views.json > responsiveAdaptations"
          },
          {
            "task": "Accessibility improvements",
            "features": [
              "Keyboard navigation",
              "ARIA labels",
              "Focus management",
              "Screen reader support"
            ]
          }
        ]
      }
    ],
    "criticalComponents": {
      "priority": "Implement these first for core functionality",
      "components": [
        "ToothRenderer (foundation of entire app)",
        "ChartOverview (main interface)",
        "ToothDetailPage (detailed examination)",
        "PeriodontalProbing (critical feature)",
        "PathologyMenu (critical feature)",
        "RestorationMenu (critical feature)"
      ]
    },
    "testingStrategy": {
      "unit": "Test utility functions (tooth numbering, calculations)",
      "integration": "Test component interactions (tooth click → detail view)",
      "e2e": "Test complete workflows (add patient → create chart → add pathology)",
      "manual": "Visual testing of tooth rendering and overlays"
    },
    "deploymentChecklist": [
      "All images optimized and compressed",
      "Build runs without errors (npm run build)",
      "All routes tested",
      "Demo data populated",
      "Print functionality works",
      "Responsive on all devices",
      "Performance optimized (Lighthouse score >90)",
      "Error handling in place",
      "Documentation updated"
    ],
    "commonPitfalls": [
      {
        "issue": "Tooth mirroring not working",
        "solution": "Check shouldMirror function and CSS transform application"
      },
      {
        "issue": "Images not loading",
        "solution": "Verify asset paths, check image naming convention, use dynamic imports"
      },
      {
        "issue": "State not updating",
        "solution": "Check Zustand store mutations, ensure immutability"
      },
      {
        "issue": "Overlays misaligned",
        "solution": "Use CSS position: absolute with same dimensions as tooth image"
      },
      {
        "issue": "Performance issues with many teeth",
        "solution": "Memoize ToothRenderer, use React.memo, virtualize if needed"
      }
    ],
    "extensionPoints": {
      "futureFeatures": [
        "Backend API integration",
        "Real-time collaboration",
        "Image upload for clinical photos",
        "AI-powered pathology detection",
        "Appointment scheduling integration",
        "Billing and insurance claims",
        "Patient portal",
        "Mobile app (React Native)"
      ]
    }
  }
}

